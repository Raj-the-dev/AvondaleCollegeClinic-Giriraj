@model AvondaleCollegeClinic.Models.Student
@{
    ViewData["Title"] = "My Student Record";
}
<section class="wrap page">
    <div class="eyebrow">Profile</div>
    <h2>My Student Record</h2>

    <div class="profile-card">
        <img src="@(string.IsNullOrWhiteSpace(Model.ImagePath) ? "/images/placeholder-user.png" : Model.ImagePath)"
             alt="@Model.FirstName @Model.LastName"
             class="profile-image" />

        <div class="profile-info">
            <div class="profile-line"><span>Student ID:</span><span>@Model.StudentID</span></div>
            <div class="profile-line"><span>First Name:</span><span>@Model.FirstName</span></div>
            <div class="profile-line"><span>Last Name:</span><span>@Model.LastName</span></div>
            <div class="profile-line"><span>Date of Birth:</span><span>@Model.DOB.ToShortDateString()</span></div>
            <div class="profile-line"><span>Email:</span><span>@Model.Email</span></div>
            @if (Model.Homeroom != null)
            {
                <div class="profile-line"><span>Homeroom:</span><span>@((int)Model.Homeroom.YearLevel) (@Model.Homeroom.Block)</span></div>
                <div class="profile-line"><span>Teacher:</span><span>@Model.Homeroom.Teacher?.FirstName @Model.Homeroom.Teacher?.LastName</span></div>
            }
        </div>

        @if (Model.Caregivers != null && Model.Caregivers.Any())
        {
            <hr style="margin:24px 0" />
            <h3 style="font-size:16px;font-weight:600;margin-bottom:10px;">Caregivers</h3>
            <div class="profile-info">
                @foreach (var cg in Model.Caregivers)
                {
                    <div class="profile-line">
                        <span>Name:</span><span>@cg.FirstName @cg.LastName</span>
                    </div>
                    <div class="profile-line">
                        <span>Relationship:</span><span>@cg.Relationship</span>
                    </div>
                    <div class="profile-line">
                        <span>Email:</span><span>@cg.Email</span>
                    </div>
                    <div class="profile-line">
                        <span>Phone:</span><span>@cg.Phone</span>
                    </div>
                    <hr />
                }
            </div>
        }
        else
        {
            <hr style="margin:24px 0" />
            <div class="profile-info">
                <div class="profile-line"><span>Caregivers:</span><span>None linked</span></div>
            </div>
        }
    </div>
</section>
